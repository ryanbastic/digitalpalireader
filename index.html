<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Digital Pāli Reader</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="manifest" href="/manifest.webmanifest">
    <meta name="theme-color" content="#FFFFDD"/>
    <meta name="Description" content="A tool for immersive study of Pāli canon and the language.">
    <link rel="apple-touch-icon" href="/images/logo192.png">
    <link rel="icon" href="/favicon.png" />
    <script>
      const initObjList = Object.keys(window);
      const whitelist = [
        "initObjList",
        "whitelist",
        "diffVarList",
        "deploymentEnvironmentName",
        "deploymentReleaseNumber",
        "deploymentCreatedTimestamp",
        "deploymentAppInsightsInstrumentationKey",
        "environmentName",
        "releaseNumber",
        "createdTimestamp",
        "sdkInstance",
        "aiName",
        "aisdk",
        "progressBar",
        "ko",
        "bootstrap",
        "DPR_PAL",
        "DPR_Send",
        "DPR_Receive",
        "DPR_Gesture",
        "DPRChrome",
        "DPRSend",
        "DPRNav",
        "DPRXML",
        "XML_Load",
        "DPROpts",
        "DPR_Translations",
        "DPR_Chrome",
        "digitalpalireader",
        "DPR_BottomPane",
        "__otherDialogsViewModel",
        "w",
        "Microsoft",
        "$",
        "jQuery",
        "Popper",
        "DPR_DataLoader",
        "DPR_send_bottom_mod",
        "DPR_conjugate_mod",
        "DPR_receive_mod",
        "DPR_search_history_mod",
        "DPR_analysis_declension_mod",
        "DPR_analysis_output_mod",
        "DT_LIST",
        "DPR_history_mod",
        "DPR_move_mod",
        "DPR_navigation_mod",
        "DPR_prefload_mod",
        "DPR_bv_mod",
        "DPR_translit_mod",
        "DPR_translitCore_mod",
        "DPR_navigation_common_mod",
        "DPR_io_mod",
        "DPR_search_mod",
        "DPR_sortaz_mod",
        "DPR_dict_mod",
        "DPR_bookmarks_mod",
        "DPR_config_mod",
        "DPR_xml_mod",
        "DPR_convert_mod",
        "DPR_grammar_mod",
        "DPR_translate_mod",
        "e",
        "t",
        "DPR1_send_mod",
        "DPR1_format_mod",
        "DPR1_search_mod",
        "DPR1_dict_xml_mod",
        "DPR1_chrome_mod",
        "DPR1_analysis_function_mod"
      ];
      const diffVarLists = () => {
        console.log("Global Variables introduced by DPR-")
        console.log(Object.keys(window).filter(a => !((typeof window[a] === "function") || whitelist.includes(a) || initObjList.includes(a))))
        console.log("Keys added to DPR_G after init-")
        console.log(Object.keys(DPR_G).filter(a => !(whitelist.includes(a) || initDPR_GList.includes(a))))
      }
    </script>

  </head>

  <body>
    <div aria-live="polite" aria-atomic="true" class="position-relative">
      <div id="main-container-toast-container" class="position-absolute">
      </div>
    </div>
    <div id="main-container-loading-page">
      <img id="main-container-loading-page-spinner" class="spin-img-infinitely" src="/images/dwheel.png" alt="Loading...">
    </div>
    <div id="main-container" style="display: none;">
      <div id="main-panel">
        <div id="main-sidebar">
          <div id="main-sidebar-content" class="card chromeback">
            <div class="card-header d-flex align-items-center px-2">
              <span class="font-weight-bold mr-auto"><a href="/" title="Home (Keyboard shortcut: v)">Digital Pāli Reader</a></span>
              <a href="/" class="btn  btn-sm btn-light m-0 mr-1" role="button" title="Home/Buddha Vacana (Keyboard shortcut: v)">
                <i class="fa fa-home"></i>
              </a>
              <a href="/_dprhtml/help.html" target="_blank" rel="noreferrer" class="btn btn-sm btn-light m-0 mr-1"
                role="button" title="Digital Pāli Reader documentation (Keyboard shortcut: h)">
                <i class="fa fa-question-circle"></i>
              </a>
              <div class="btn-group">
                <button type="button" class="btn btn-sm btn-light m-0 mr-1 dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <i class="fa fa-star-half-o" aria-hidden="true"></i>
                </button>
                <div class="dropdown-menu">
                  <button type="button" class="btn btn-sm btn-light dropdown-item m-0" onclick="window.DPR_Globals.SettingsDialogViewModel.switchTheme('light')"
                    title="Switch to light theme">
                    Default (Light)
                  </button>
                  <button type="button" class="btn btn-sm btn-light dropdown-item m-0" onclick="window.DPR_Globals.SettingsDialogViewModel.switchTheme('high-contrast')"
                    title="Switch to high contrast theme (use with Dark Reader)">
                    High contrast (Dark Reader)
                  </button>
                </div>
              </div>
              <div class="btn-group">
                <button type="button" class="btn btn-sm btn-light m-0 mr-1 dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></button>
                <div class="dropdown-menu">
                  <button id="context-menu-install-button" type="button" class="btn btn-sm btn-light dropdown-item m-0"
                    title="Install for offline use (Keyboard shortcut: I)" onclick="window.DPR_Globals.InstallationViewModel.showInstallationDialog()">
                    <i class="fa fa-download" aria-hidden="true"></i> Install...
                  </button>
                  <button type="button" class="btn btn-sm btn-light dropdown-item m-0" data-toggle="modal" data-target="#settings-dialog-root"
                    title="Launch preferences (Keyboard shortcut: %)">
                    <i class="fa fa-gear" aria-hidden="true"></i> Settings...
                  </button>
                </div>
              </div>
              <button id="context-menu-top-level-open-sidebar" class="btn btn-sm btn-light m-0" role="button" onclick="DPR_Chrome.toggleDPRSidebar()"
                title="Toggle sidebar (Keyboard shortcut: & or `)">
                <i id="context-menu-launcher-icon" class="fa fa-bars"></i>
              </button>
            </div>
            <div id="instProgressDiv" class="card-header" style="display: none;">
              <span>Installation Progress</span>
              <div id="installationProgress">
                <div id="installationBar"></div>
              </div>
            </div>
            <div class="card-body p-2">
              <ul id="navTabs" class="nav nav-tabs">
                <li class="nav-item">
                  <a id="navigationTab" data-toggle="tab" class="nav-link px-2 active" href="">Navigation</a>
                </li>
                <li class="nav-item">
                  <a id="searchTab" data-toggle="tab" class="nav-link px-2" href="">Search</a>
                </li>
                <li class="nav-item">
                  <a id="dictionaryTab" data-toggle="tab" class="nav-link px-2" href="">Tools</a>
                </li>
              </ul>
              <div id="navigationTabPane" class="featureTabContent">
              </div>
              <div id="searchTabPane" class="featureTabContent">
              </div>
              <div id="dictionaryTabPane" class="featureTabContent">
              </div>
            </div>
          </div>
        </div>
        <div id="main-panel-splitter" ondblclick="DPR_Chrome.toggleDPRSidebar()"></div>
        <div id="main-content">
          <div id="context-menu-top-level" style="display: none;">
            <button id="context-menu-top-level-open-sidebar" class="btn btn-sm btn-light m-0" role="button" onclick="DPR_Chrome.toggleDPRSidebar()" title="Toggle sidebar (Keyboard shortcut: & or `)">
              <i id="context-menu-launcher-icon" class="fa fa-bars"></i>
            </button>
          </div>
          <div id="context-menu" style="display: none;">
            <a id="context-menu-handle" class="m-0" role="button">
              <i id="context-menu-launcher-icon" class="fa fa-chevron-down"></i>
            </a>
            <div id="context-menu-main">
              <div class="context-menu-main-row" id="context-menu-main-row1">
                <div class="context-menu-main-row-group">
                  <button id="cmd-btn-gotoPrev" type="button" class="btn btn-sm btn-light" style="display: none;">
                    <i class="fa fa-arrow-left" aria-hidden="true"></i>
                  </button>
                  <button id="cmd-btn-gotoIndex" type="button" class="btn btn-sm btn-light" style="display: none;">
                    <i class="fa fa-list" aria-hidden="true"></i>
                  </button>
                  <button id="cmd-btn-gotoNext" type="button" class="btn btn-sm btn-light" style="display: none;">
                    <i class="fa fa-arrow-right" aria-hidden="true"></i>
                  </button>
                </div>

                <div id="cmd-group-rel" class="context-menu-main-row-group" style="display: none;">
                  <button id="cmd-btn-gotoRelm" type="button" class="btn btn-sm btn-light" style="display: none;">m</button>
                  <button id="cmd-btn-gotoRela" type="button" class="btn btn-sm btn-light" style="display: none;">a</button>
                  <button id="cmd-btn-gotoRelt" type="button" class="btn btn-sm btn-light" style="display: none;">t</button>
                </div>

                <div id="cmd-group-script" class="context-menu-main-row-group" style="display: none;">
                  <button id="cmd-btn-gotoMyanmar" type="button" class="btn btn-sm btn-light" style="display: none;">M</button>
                  <button id="cmd-btn-gotoThai" type="button" class="btn btn-sm btn-light" style="display: none;">T</button>
                </div>
              </div>
              <div class="context-menu-main-row" id="context-menu-main-row2">
                <div class="context-menu-main-row-group">
                  <button id="cmd-btn-sendToConverter" type="button" class="btn btn-sm btn-light">
                    <i class="fa fa-language" aria-hidden="true"></i>
                  </button>
                  <button id="cmd-btn-sendToTextpad" type="button" class="btn btn-sm btn-light">
                    <i class="fa fa-share-square-o" aria-hidden="true"></i>
                  </button>
                  <button id="cmd-btn-saveToDesktop" type="button" class="btn btn-sm btn-light" style="display: none;">
                    <i class="fa fa-floppy-o" aria-hidden="true"></i>
                  </button>
                </div>

                <div id="cmd-group-clipboard" class="context-menu-main-row-group" style="display: none;">
                  <button id="cmd-btn-copyPlaceToSidebar" type="button" class="btn btn-sm btn-light" style="display: none;">
                    <i class="fa fa-exchange" aria-hidden="true"></i>
                  </button>
                  <button id="cmd-btn-copyPermalink" type="button" class="btn btn-sm btn-light" style="display: none;">
                    <i class="fa fa-link" aria-hidden="true"></i>
                  </button>
                </div>

                <div id="cmd-group-search" class="context-menu-main-row-group" style="display: none;">
                  <button id="cmd-btn-searchInBook" type="button" class="btn btn-sm btn-light" style="display: none;">
                    <i class="fa fa-search" aria-hidden="true"></i>
                  </button>
                </div>

                <div id="cmd-group-bookmark" class="context-menu-main-row-group">
                  <button id="cmd-btn-bookmarkSection" type="button" class="btn btn-sm btn-light">
                    <i class="fa fa-bookmark" aria-hidden="true"></i>
                  </button>
                </div>

                <div id="cmd-group-translate" class="context-menu-main-row-group" style="display: none;">
                  <button id="cmd-btn-translate0" type="button" class="btn btn-sm btn-light" style="display: none;">
                    <img class="context-menu-command-icon">
                  </button>
                  <button id="cmd-btn-translate1" type="button" class="btn btn-sm btn-light" style="display: none;">
                    <img class="context-menu-command-icon">
                  </button>
                  <button id="cmd-btn-translate2" type="button" class="btn btn-sm btn-light" style="display: none;">
                    <img class="context-menu-command-icon">
                  </button>
                  <button id="cmd-btn-translate3" type="button" class="btn btn-sm btn-light" style="display: none;">
                    <img class="context-menu-command-icon">
                  </button>
                  <button id="cmd-btn-translate4" type="button" class="btn btn-sm btn-light" style="display: none;">
                    <img class="context-menu-command-icon">
                  </button>
                  <button id="cmd-btn-translate5" type="button" class="btn btn-sm btn-light" style="display: none;">
                    <img class="context-menu-command-icon">
                  </button>
                  <button id="cmd-btn-translate6" type="button" class="btn btn-sm btn-light" style="display: none;">
                    <img class="context-menu-command-icon">
                  </button>
                  <button id="cmd-btn-translate7" type="button" class="btn btn-sm btn-light" style="display: none;">
                    <img class="context-menu-command-icon">
                  </button>
                  <button id="cmd-btn-translate8" type="button" class="btn btn-sm btn-light" style="display: none;">
                    <img class="context-menu-command-icon">
                  </button>
                  <button id="cmd-btn-translate9" type="button" class="btn btn-sm btn-light" style="display: none;">
                    <img class="context-menu-command-icon">
                  </button>
                  <button id="cmd-btn-translate10" type="button" class="btn btn-sm btn-light" style="display: none;">
                    <img class="context-menu-command-icon">
                  </button>
                </div>
              </div>
            </div>
          </div>

          <div id="main-content-panel">
            <div id="search-header" class="chromeback" style="display: none;">
              <div id="search-header-context-commands" class="ml-5"></div>
              <span id="search-header-title" class="ml-3"></span>
              <div id="search-header-contents"></div>
            </div>
            <div id="main-pane">
              <div id="main-pane-container" style="display: none;" data-nextsectionid="0">
              </div>
              <div id="main-content-landing-page" style="display: none;">
              </div>
            </div>

            <div id="main-content-panel-splitter" ondblclick="DPR1_chrome_mod.closeBottomFrame()"></div>

            <div id="main-bottom-pane">
            </div>
          </div>
        </div>
      </div>
      <footer id="main-footer">
        <ul>
          <li><a href="https://pali.sirimangalo.org/" target="_blank" rel="noreferrer">Home</a></li>
          <li class="main-footer-help">|</li>
          <li class="main-footer-help">Press '?' for help</li>
        </ul>
      </footer>
    </div>
    <div id="settings-dialog">
    </div>
    <div id="quicklink-dialog">
    </div>
    <div id="paliquote-dialog">
    </div>
    <div id="bookmark-dialog">
    </div>
    <div id="installation-dialog">
    </div>
    <div class="modal fade show" id="helpDialog" tabindex="-1" role="dialog">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content" style="font-size: smaller;">
          <div class="modal-header p-2">
            <h6 class="modal-title" id="exampleModalLongTitle"><i class="fa fa-info-circle fx-2x" aria-hidden="true"></i>&nbsp;Keyboard Shortcuts</h6>
          </div>
          <div class="modal-body">
            <div>The following is a current list of all shortcut keys available to the DPR. <strong>Note</strong>: These keys will not function if the cursor is located in an input field.</div>
            <br>
            <table>
              <tr><td>v</td><td>&nbsp;Go home, show Buddha Vacana</td></tr>
              <tr><td>1,2...5</td><td>&nbsp;Bring up bottom pane tabs</td></tr>
              <tr><td>i</td><td>&nbsp;Display index</td></tr>
              <tr><td>I</td><td>&nbsp;Install DPR offline app</td></tr>
              <tr><td>p</td><td>&nbsp;Display previous section</td></tr>
              <tr><td>n</td><td>&nbsp;Display next section</td></tr>
              <tr><td>c</td><td>&nbsp;Copy permalink to clipboard</td></tr>
              <tr><td>m</td><td>&nbsp;Switch to section in Mūla (side by side)</td></tr>
              <tr><td>a</td><td>&nbsp;Switch to section in Aṭṭhakathā (side by side)</td></tr>
              <tr><td>t</td><td>&nbsp;Switch to section in Ṭīkā (side by side)</td></tr>
              <tr><td>M</td><td>&nbsp;Switch to section in Mūla (same pane)</td></tr>
              <tr><td>A</td><td>&nbsp;Switch to section in Aṭṭhakathā (same pane)</td></tr>
              <tr><td>T</td><td>&nbsp;Switch to section in Ṭīkā (same pane)</td></tr>
              <tr><td>q</td><td>&nbsp;Enter quick reference (DN, MN, SN, & AN only)</td></tr>
              <tr><td>s</td><td>&nbsp;Send selected text to convertor</td></tr>
              <tr><td>e</td><td>&nbsp;Send selected text to textpad</td></tr>
              <tr><td>E</td><td>&nbsp;Append selected text to textpad</td></tr>
              <!-- <tr><td>,</td><td>&nbsp;Display previous PED or DPPN entry</td></tr>
              <tr><td>.</td><td>&nbsp;Display next PED or DPPN entry</td></tr> -->
              <tr><td>%</td><td>&nbsp;Display DPR settings</td></tr>
              <tr><td>R</td><td>&nbsp;Reset all DPR settings</td></tr>
              <tr><td>*</td><td>&nbsp;Display Pali quote</td></tr>
              <tr><td>` or &amp;</td><td>&nbsp;Toggle sidebar</td></tr>
              <!-- <tr><td>b</td><td>&nbsp;Save bookmark</td></tr> -->
              <!-- <tr><td>#</td><td>&nbsp;Launch new quizz</td></tr> -->
              <tr><td>h</td><td>&nbsp;Open help</td></tr>
              <tr><td>@</td><td>&nbsp;Launch feedback form</td></tr>
              <tr><td>?</td><td>&nbsp;Show this list of shortcuts</td></tr>
            </table>
            </div>
          <div class="modal-footer p-2">
            <button type="button" class="btn btn-primary btn-sm mb-0" title="Apply changes and close..." data-dismiss="modal">OK</button>
          </div>
        </div>
      </div>
    </div>
    <script>
      window.module = { }
    </script>
    <script type="module" src="/_dprhtml/js/entry.js"></script>
    <script type="module">
      window.getFuncList = () => JSON.stringify(
        Object.keys(window)
          .sort()
          .filter(k => !(whitelist.includes(k) || initObjList.includes(k)))
          .map(name => ({ name, declLine1: window[name].toString().split('\n')[0].trim() })))
    </script>
  </body>
</html>
